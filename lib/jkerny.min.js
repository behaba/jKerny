(function($){var b="jkerny-",w="pseudo-selector",p="undefined",f="jkerny",y="word",s="head",v=" ",e="media",a="";function parsedeclarations(n){var i=munged[n].replace(/^{|}$/g,a),t;return i=munge(i),t={},$.each(i.split(";"),function(n,i){i=i.split(":");if(i.length<2)return;t[restore(i[0])]=restore(i.slice(1).join(":"))}),t}function munge(n,t){n=n.replace(REatcomment,"$1").replace(REcomment_string,function(n,t){if(!t)return a;var i="%s`"+ ++uid+"`s%";return munged[uid]=t.replace(/^\\/,a),i});var i=t?REfull:REbraces;while(match=i.exec(n))replacement="%b`"+ ++uid+"`b%",munged[uid]=match[0],n=n.replace(i,replacement);return n}function restore(n){if(n===undefined)return n;while(match=REmunged.exec(n))n=n.replace(REmunged,munged[match[1]]);return $.trim(n)}function processAtRule(n,t){var i=n.split(/\s+/),u=i.shift(),f,r;u==e?(f=restore(i.pop()).slice(1,-1),$.parsecss.mediumApplies(i.join(v))&&$.parsecss(f,t)):(u="import")&&(r=restore(i.shift()),$.parsecss.mediumApplies(i.join(v))&&(r=r.replace(/^url\(|\)$/gi,a).replace(/^["']|["']$/g,a),$.get(r,function(n){$.parsecss(n,t)})))}function styleAttributes(n,t){var r=a,u,i={};n=n.replace(RESGMLcomment,a).replace(REnotATag,"$1"),munge(n).replace(REtag,function(n,t,f){t=t.toLowerCase(),i[t]?++i[t]:i[t]=1;if(u=/\bstyle\s*=\s*(%s`\d+`s%)/i.exec(f)){var e=/\bid\s*=\s*(\S+)/i.exec(f);e=e?"#"+restore(e[1]).replace(/^['"]|['"]$/g,a):t+":eq("+(i[t]-1)+")",r+=[e,"{",restore(u[1]).replace(/^['"]|['"]$/g,a),"}"].join(a)}}),$.parsecss(r,t)}function injector(n,t,i,r){var f=n.text().split(t),u=a;f.length&&($(f).each(function(n,t){u+='<span class="'+i+(n+1)+'">'+t+"</span>"+r}),n.empty().append(u))}var media,munged,methods;$.parsecss=function(n,t){var i={};n=munge(n).replace(/@(([^;`]|`[^b]|`b[^%])*(`b%)?);?/g,function(n,i){return processAtRule($.trim(i),t),a}),$.each(n.split("`b%"),function(n,t){t=t.split("%b`");if(t.length<2)return;t[0]=restore(t[0]),i[t[0]]=$.extend(i[t[0]]||{},parsedeclarations(t[1]))}),t(i)},$.parsecss.mediumApplies=window.media&&window.media.query||function(n){if(!n)return!0;if(n in media)return media[n];var t=$('<style media="'+n+'">body {position: relative; z-index: 1;}</style>').appendTo(s);return media[n]=([$("body").css("z-index")==1,t.remove()])[0]},$.parsecss.isValidSelector=function(n){var t=$("<style>"+n+"{}</style>").appendTo(s)[0];return([t.styleSheet?!/UNKNOWN/i.test(t.styleSheet.cssText):!!t.sheet.cssRules.length,$(t).remove()])[0]},$.parsecss.parseArguments=function(str){var ret,mungedArguments,i,a;if(!str)return[];for(ret=[],mungedArguments=munge(str,!0).split(/\s+/),i=0;i<mungedArguments.length;++i){a=restore(mungedArguments[i]);try{ret.push(eval("("+a+")"))}catch(err){ret.push(a)}}return ret},$.parsecss.styleAttributes=styleAttributes,media={},munged={};var REbraces=/{[^{}]*}/,REfull=/\[[^\[\]]*\]|{[^{}]*}|\([^()]*\)|function(\s+\w+)?(\s*%b`\d+`b%){2}/,REatcomment=/\/\*@((?:[^\*]|\*[^\/])*)\*\//g,REcomment_string=/(?:\/\*(?:[^\*]|\*[^\/])*\*\/)|(\\.|"(?:[^\\\"]|\\.|\\\n)*"|'(?:[^\\\']|\\.|\\\n)*')/g,REmunged=/%\w`(\d+)`\w%/,uid=0;var RESGMLcomment=/<!--([^-]|-[^-])*-->/g,REnotATag=/(>)[^<]*/g,REtag=/<(\w+)([^>]*)>/g;methods={init:function(){return this.each(function(){injector($(this),a,"char",a)})},words:function(){return this.each(function(){injector($(this),v,y,v)})},lines:function(){return this.each(function(){var n="eefec303079ad17405c889e092e105b0";injector($(this).children("br").replaceWith(n).end(),n,"line",a)})}},$.fn.lettering=function(n){return n&&methods[n]?methods[n].apply(this,[].slice.call(arguments,1)):n==="letters"||!n?methods.init.apply(this,[].slice.call(arguments,0)):($.error("Method "+n+" does not exist on jQuery.lettering"),this)},$.style=function(n,t){var o="text/css",u,e;t=$.extend({type:o,media:"all",styleClass:"default"},t);var r=t.doc||document,i=r.createElement("style"),f=a;for(u in n)if(n[u].hasOwnProperty){f+=u+"{ ";for(e in n[u])f+=e+":"+n[u][e]+"; ";f+=" }"}r.createStyleSheet?r.getElementsByTagName(s)[0].insertAdjacentHTML("beforeEnd",'&nbsp;<style class="'+t.styleClass+'" media="'+t.media+'" type="text/css">'+f+"</style>"):(i=r.createElement("style"),i.type=o,i.media=t.media,i.className=t.styleClass,i.appendChild(r.createTextNode(f)),r.getElementsByTagName(s)[0].appendChild(i))},$.jkerny={lettering_replace:{":unknown":a,":((first|last)(-))?(letter|word)":"._$2$3$4","._(letter|word):(first|last)-child":"._$2-$1","._((last|first)-)letter":"span.jkerny-word:$2-child span.jkerny-letter:$2-child","._((last|first)-)word":"span.jkerny-word:$2-child","._(letter|word)":"span.jkerny-$1","(span.jkerny-word([^ ]*)?) *span.jkerny-word:(first|last)-child":"$1$2"},pseudo_structural:":(empty|(first|last|only|nth(-last)?)-(child|of-type))([^\\)]*\\))?",pseudo_selectors:":(hover|enabled|disabled|focus|checked|target|active|visited)",split_expr:/(>|~|\+)? span.jkerny-(letter|word)/gi,medias_screen:"all",kerning_counter:0,output:{},run:function(){var i={},n=this,t=a;$.style({"span.jkerny-word, span.jkerny-letter":{display:"inline-block"}},{".jkerny":{visibility:"inherit"}},{styleClass:f}),$("style:not(.jkerny),link[rel=stylesheet]").each(function(){var t=this;n.medias_screen=typeof $(t).attr(e)==p?"all":$(t).attr(e),!t.href||t.disabled||t.href.indexOf("//"+window.location.host)<0&&/^\w+:/.test(t.href)?n.parseCss($(t).removeAttr("type").html()):$.ajax({url:t.href,success:function(t){n.parseCss(t)}})})},parseMediaQueries:function(n){var i=this,t,u=n.match(/@media[^\{]+\{([^\{\}]+\{[^\}\{]+\})+/gi),r;for(r in u)t=n.match(new RegExp(/@media([^\{]+)\{([^\{\}]+\{[^\}\{]+\})+/),"gi"),i.medias_screen=$.trim(t[1]),i.parseCss(t[2])},parseCss:function(n){var t=this;n=t.convertPseudoSelectors(n),$.parsecss(n,function(n){selectors=t.filterSelectors(n),t.proceedCss(selectors)}),t.parseMediaQueries(n)},convertPseudoSelectors:function(n){var i=this,t;for(t in i.lettering_replace)n=n.replace(new RegExp(t,"gi"),v+i.lettering_replace[t]);return n},getLength:function(n){var t=0,i;for(i in n)t++;return t},applyProperties:function(n,t,i){var e="-spacing",o="-jkerny-",r=this,l={},s=t.replace(new RegExp(r.pseudo_selectors),a).split(r.split_expr)[0],h,c,f,u;if(i==w)$(t.replace(new RegExp(r.pseudo_selectors),a)).each(function(){c=t.replace(new RegExp("span.jkerny-(letter|word)("+r.pseudo_structural+")?","gi"),".jkerny-$1-"+r.kerning_counter),$(this).addClass(b+($(this).is(".jkerny-letter")?"letter":y)+"-"+r.kerning_counter).parent(".jkerny-word").addClass("jkerny-word-"+r.kerning_counter),r.output[c]=n[t],r.kerning_counter++});else if(typeof n[t][o+i+e]!=p)for(f=n[t][o+i+e].replace(/[\n\s]+/g,v).split(v),u=0;u<=f.length;u++)h=$(s).find("span.jkerny-"+i+":eq("+u+")"),h.each(function(){typeof f[u]!=p&&($(this).addClass("kerning-"+r.kerning_counter),r.output[s+" .jkerny-"+i+".kerning-"+r.kerning_counter]={"margin-right":f[u]},r.kerning_counter++)})},proceedCss:function(n){var t=this,u={},i,r;if(t.getLength(n)>0){for(i in n)r=i.replace(new RegExp(t.pseudo_selectors),a).split(t.split_expr)[0],$(r).not(".jkerny").addClass(f).lettering("words").children("span").addClass("jkerny-word").lettering().children("span").addClass("jkerny-letter"),t.applyProperties(n,i,y),t.applyProperties(n,i,"letter"),t.applyProperties(n,i,w);$.style(t.output,{media:t.medias_screen,styleClass:f})}},filterSelectors:function(n){var i=n,r={},t,u;for(t in i)if(t.indexOf(b)>-1)r[t]=i[t];else for(u in i[t])if(u.indexOf(b)>-1){r[t]=i[t];continue}return i=r}},$(function(){$.jkerny.run()})})(jQuery)