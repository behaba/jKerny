(function($){$.parsecss=function(_1,_2){var _3={};_1=_4(_1).replace(/@(([^;`]|`[^b]|`b[^%])*(`b%)?);?/g,function(s,_5){_1d($.trim(_5),_2);return "";});$.each(_1.split("`b%"),function(i,_6){_6=_6.split("%b`");if(_6.length<2){return;}_6[0]=_7(_6[0]);_3[_6[0]]=$.extend(_3[_6[0]]||{},_8(_6[1]));});_2(_3);};$.parsecss.mediumApplies=(window.media&&window.media.query)||function(_9){if(!_9){return true;}if(_9 in _a){return _a[_9];}var _b=$("<style media=\""+_9+"\">body {position: relative; z-index: 1;}</style>").appendTo("head");return _a[_9]=[$("body").css("z-index")==1,_b.remove()][0];};$.parsecss.isValidSelector=function(_c){var s=$("<style>"+_c+"{}</style>").appendTo("head")[0];return [s.styleSheet?!/UNKNOWN/i.test(s.styleSheet.cssText):!!s.sheet.cssRules.length,$(s).remove()][0];};$.parsecss.parseArguments=function(_d){if(!_d){return [];}var _e=[],_f=_4(_d,true).split(/\s+/);for(var i=0;i<_f.length;++i){var a=_7(_f[i]);try{_e.push(eval("("+a+")"));}catch(err){_e.push(a);}}return _e;};$.parsecss.styleAttributes=_10;var _a={};var _11={};function _8(_12){var str=_11[_12].replace(/^{|}$/g,"");str=_4(str);var _13={};$.each(str.split(";"),function(i,_14){_14=_14.split(":");if(_14.length<2){return;}_13[_7(_14[0])]=_7(_14.slice(1).join(":"));});return _13;};var _15=/{[^{}]*}/;var _16=/\[[^\[\]]*\]|{[^{}]*}|\([^()]*\)|function(\s+\w+)?(\s*%b`\d+`b%){2}/;var _17=/\/\*@((?:[^\*]|\*[^\/])*)\*\//g;var _18=/(?:\/\*(?:[^\*]|\*[^\/])*\*\/)|(\\.|"(?:[^\\\"]|\\.|\\\n)*"|'(?:[^\\\']|\\.|\\\n)*')/g;var _19=/%\w`(\d+)`\w%/;var uid=0;function _4(str,_1a){str=str.replace(_17,"$1").replace(_18,function(s,_1b){if(!_1b){return "";}var _1c="%s`"+(++uid)+"`s%";_11[uid]=_1b.replace(/^\\/,"");return _1c;});var RE=_1a?_16:_15;while(match=RE.exec(str)){replacement="%b`"+(++uid)+"`b%";_11[uid]=match[0];str=str.replace(RE,replacement);}return str;};function _7(str){if(str===undefined){return str;}while(match=_19.exec(str)){str=str.replace(_19,_11[match[1]]);}return $.trim(str);};function _1d(_1e,_1f){var _20=_1e.split(/\s+/);var _21=_20.shift();if(_21=="media"){var css=_7(_20.pop()).slice(1,-1);if($.parsecss.mediumApplies(_20.join(" "))){$.parsecss(css,_1f);}}else{if(_21="import"){var url=_7(_20.shift());if($.parsecss.mediumApplies(_20.join(" "))){url=url.replace(/^url\(|\)$/gi,"").replace(/^["']|["']$/g,"");$.get(url,function(str){$.parsecss(str,_1f);});}}}};var _22=/<!--([^-]|-[^-])*-->/g;var _23=/(>)[^<]*/g;var _24=/<(\w+)([^>]*)>/g;function _10(_25,_26){var ret="",_27,_28={};_25=_25.replace(_22,"").replace(_23,"$1");_4(_25).replace(_24,function(s,tag,_29){tag=tag.toLowerCase();if(_28[tag]){++_28[tag];}else{_28[tag]=1;}if(_27=/\bstyle\s*=\s*(%s`\d+`s%)/i.exec(_29)){var id=/\bid\s*=\s*(\S+)/i.exec(_29);if(id){id="#"+_7(id[1]).replace(/^['"]|['"]$/g,"");}else{id=tag+":eq("+(_28[tag]-1)+")";}ret+=[id,"{",_7(_27[1]).replace(/^['"]|['"]$/g,""),"}"].join("");}});$.parsecss(ret,_26);};function _2a(t,_2b,_2c,_2d){var a=t.text().split(_2b),_2e="";if(a.length){$(a).each(function(i,_2f){_2e+="<span class=\""+_2c+(i+1)+"\">"+_2f+"</span>"+_2d;});t.empty().append(_2e);}};var _30={init:function(){return this.each(function(){_2a($(this),"","char","");});},words:function(){return this.each(function(){_2a($(this)," ","word"," ");});},lines:function(){return this.each(function(){var r="eefec303079ad17405c889e092e105b0";_2a($(this).children("br").replaceWith(r).end(),r,"line","");});}};$.fn.lettering=function(_31){if(_31&&_30[_31]){return _30[_31].apply(this,[].slice.call(arguments,1));}else{if(_31==="letters"||!_31){return _30.init.apply(this,[].slice.call(arguments,0));}}$.error("Method "+_31+" does not exist on jQuery.lettering");return this;};$.style=function(r,_32){_32=$.extend({type:"text/css",media:"all",styleClass:"default"},_32);var doc=_32.doc||document,el=doc.createElement("style"),css="";for(var s in r){if(r[s].hasOwnProperty){css+=s+"{ ";for(var _33 in r[s]){css+=_33+":"+r[s][_33]+"; ";}css+=" }";}}if(doc.createStyleSheet){doc.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd","&nbsp;<style class=\""+_32.styleClass+"\" media=\""+_32.media+"\" type=\"text/css\">"+css+"</style>");}else{el=doc.createElement("style");el.type="text/css";el.media=_32.media;el.className=_32.styleClass;el.appendChild(doc.createTextNode(css));doc.getElementsByTagName("head")[0].appendChild(el);}};$.jkerny={lettering_replace:{":unknown":"",":((first|last)(-))?(letter|word)":"._$2$3$4","._(letter|word):(first|last)-child":"._$2-$1","._((last|first)-)letter":"span.jkerny-word:$2-child span.jkerny-letter:$2-child","._((last|first)-)word":"span.jkerny-word:$2-child","._(letter|word)":"span.jkerny-$1","(span.jkerny-word([^ ]*)?) *span.jkerny-word:(first|last)-child":"$1$2"},pseudo_selectors:/:(hover|active|focus|visited|after|before)/,split_expr:/(>|~|\+)? span.jkerny-(letter|word)/gi,medias_screen:"all",kerning_counter:0,run:function(){var _34={},_35=this,_36="";$.style({"span.jkerny-word, span.jkerny-letter":{"display":"inline-block"}},{".jkerny":{"visibility":"inherit"}},{styleClass:"jkerny"});$("style:not(.jkerny),link[rel=stylesheet]").each(function(){_35.medias_screen=typeof $(this).attr("media")=="undefined"?"all":$(this).attr("media");if(this.href&&!this.disabled&&!(this.href.indexOf("//"+window.location.host)<0&&/^\w+:/.test(this.href))){$.ajax({url:this.href,success:function(_37){_35.parseCss(_37);}});}else{_35.parseCss($(this).removeAttr("type").html());}});},parseMediaQueries:function(_38){var _39=this,_3a,_3b=_38.match(/@media[^\{]+\{([^\{\}]+\{[^\}\{]+\})+/gi);for(var key in _3b){_3a=_38.match(new RegExp(/@media([^\{]+)\{([^\{\}]+\{[^\}\{]+\})+/),"gi");_39.medias_screen=$.trim(_3a[1]);_39.parseCss(_3a[2]);}},parseCss:function(_3c){var _3d=this;_3c=_3d.convertPseudoSelectors(_3c);$.parsecss(_3c,function(_3e){selectors=_3d.filterSelectors(_3e);_3d.proceedCss(selectors);});_3d.parseMediaQueries(_3c);},convertPseudoSelectors:function(_3f){var _40=this;for(var _41 in _40.lettering_replace){_3f=_3f.replace(new RegExp(_41,"gi")," "+_40.lettering_replace[_41]);}return _3f;},getLength:function(obj){var i=0;for(var key in obj){i++;}return i;},adjustKerning:function(_42,_43,_44){if(typeof _42[_43]["-jkerny-"+_44+"-spacing"]!="undefined"){var _45=this,_46=_42[_43]["-jkerny-"+_44+"-spacing"].replace(/[\n\s]+/g," ").split(" "),_47=_43.replace(this.pseudo_selectors,"").split(_45.split_expr)[0];for(var i=0;i<=_46.length;i++){$letterSelector=$(_47).find("span.jkerny-"+_44+":eq("+i+")");$letterSelector.each(function(j,_48){if(typeof _46[i]!="undefined"){$(this).addClass("kerning-"+_45.kerning_counter);_42[_47+" .jkerny-"+_44+".kerning-"+_45.kerning_counter]={"margin-right":_46[i]};_45.kerning_counter++;}});}}return _42;},proceedCss:function(_49){var _4a=this,_4b;if(_4a.getLength(_49)>0){for(var _4c in _49){var _4d=_4c.replace(this.pseudo_selectors,"").split(_4a.split_expr)[0];$(_4d).not(".jkerny").addClass("jkerny").lettering("words").children("span").addClass("jkerny-word").lettering().children("span").addClass("jkerny-letter");_49=_4a.adjustKerning(_49,_4c,"word");_49=_4a.adjustKerning(_49,_4c,"letter");}$.style(_49,{media:_4a.medias_screen,styleClass:"jkerny"});}},filterSelectors:function(_4e){var s=_4e,t={};for(var _4f in s){if(_4f.indexOf("jkerny-")>-1){t[_4f]=s[_4f];}else{for(var _50 in s[_4f]){if(_50.indexOf("jkerny-")>-1){t[_4f]=s[_4f];continue;}}}}s=t;return s;}};$(function(){$.jkerny.run();});})(jQuery);